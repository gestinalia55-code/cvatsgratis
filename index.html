<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CV ATS Generator</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
        }
        
        body {
            background-color: #f5f7fa;
            padding: 20px;
            line-height: 1.6;
        }
        
        .container {
            max-width: 1200px;
            margin: 0 auto;
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
        }
        
        header {
            grid-column: 1 / -1;
            text-align: center;
            background: #2c3e50;
            color: white;
            padding: 25px;
            border-radius: 10px;
            margin-bottom: 20px;
        }
        
        h1 {
            font-size: 2.2rem;
            margin-bottom: 10px;
        }
        
        .form-section {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 15px;
        }
        
        .form-section h2 {
            color: #2c3e50;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 2px solid #ecf0f1;
        }
        
        .form-group {
            margin-bottom: 12px;
        }
        
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: 600;
            color: #34495e;
        }
        
        input, textarea {
            width: 100%;
            padding: 10px;
            border: 1px solid #ddd;
            border-radius: 4px;
            font-size: 1rem;
        }
        
        textarea {
            min-height: 80px;
            resize: vertical;
        }
        
        .btn {
            background: #3498db;
            color: white;
            padding: 12px 20px;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            font-size: 1rem;
            margin: 5px;
            transition: background 0.3s;
        }
        
        .btn:hover {
            background: #2980b9;
        }
        
        .btn-primary {
            background: #2c3e50;
        }
        
        .btn-primary:hover {
            background: #1a252f;
        }
        
        .btn-danger {
            background: #e74c3c;
        }
        
        .btn-danger:hover {
            background: #c0392b;
        }
        
        .preview-section {
            background: white;
            padding: 20px;
            border-radius: 8px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }
        
        .cv-container {
            background: white;
            padding: 25px;
            min-height: 297mm;
            border: 1px solid #ddd;
        }
        
        .cv-header {
            background: #2c3e50;
            color: white;
            padding: 25px;
            border-radius: 5px;
            margin-bottom: 20px;
        }
        
        .cv-name {
            font-size: 1.8rem;
            margin-bottom: 5px;
        }
        
        .cv-title {
            font-size: 1.2rem;
            opacity: 0.9;
            margin-bottom: 10px;
        }
        
        .cv-contact {
            display: flex;
            flex-wrap: wrap;
            gap: 10px;
            font-size: 0.9rem;
        }
        
        .cv-section {
            margin-bottom: 15px;
        }
        
        .cv-section-title {
            color: #2c3e50;
            font-size: 1.2rem;
            margin-bottom: 8px;
            padding-bottom: 5px;
            border-bottom: 1px solid #ecf0f1;
        }
        
        .cv-item {
            margin-bottom: 12px;
        }
        
        .cv-item-title {
            font-weight: 600;
            color: #2c3e50;
        }
        
        .cv-item-subtitle {
            font-style: italic;
            color: #666;
            margin-bottom: 3px;
        }
        
        .cv-item-date {
            color: #3498db;
            font-weight: 600;
            margin-bottom: 3px;
        }
        
        .skills-list {
            display: flex;
            flex-wrap: wrap;
            gap: 8px;
        }
        
        .skill-tag {
            background: #ecf0f1;
            padding: 4px 10px;
            border-radius: 15px;
            font-size: 0.9rem;
        }
        
        .remove-btn {
            background: #e74c3c;
            color: white;
            border: none;
            padding: 5px 10px;
            border-radius: 3px;
            cursor: pointer;
            margin-top: 5px;
        }
        
        @media (max-width: 768px) {
            .container {
                grid-template-columns: 1fr;
            }
        }
    </style>
</head>
<body>
    <div class="container">
        <header>
            <h1>CV ATS Generator</h1>
            <p>Buat CV ramah ATS dan ekspor ke PDF dalam satu halaman</p>
        </header>
        
        <div class="form-column">
            <!-- Informasi Pribadi -->
            <section class="form-section">
                <h2>Informasi Pribadi</h2>
                <div class="form-group">
                    <label for="fullName">Nama Lengkap</label>
                    <input type="text" id="fullName" placeholder="Masukkan nama lengkap">
                </div>
                <div class="form-group">
                    <label for="jobTitle">Posisi yang Dilamar</label>
                    <input type="text" id="jobTitle" placeholder="Contoh: Software Engineer">
                </div>
                <div class="form-group">
                    <label for="email">Email</label>
                    <input type="email" id="email" placeholder="nama@email.com">
                </div>
                <div class="form-group">
                    <label for="phone">Telepon</label>
                    <input type="tel" id="phone" placeholder="+62 812-3456-7890">
                </div>
                <div class="form-group">
                    <label for="location">Lokasi</label>
                    <input type="text" id="location" placeholder="Kota, Negara">
                </div>
            </section>
            
            <!-- Ringkasan Profesional -->
            <section class="form-section">
                <h2>Ringkasan Profesional</h2>
                <div class="form-group">
                    <textarea id="summary" placeholder="Tulis ringkasan profesional Anda di sini..."></textarea>
                </div>
            </section>
            
            <!-- Pengalaman Kerja -->
            <section class="form-section">
                <h2>Pengalaman Kerja</h2>
                <div id="experience-container">
                    <div class="experience-item">
                        <div class="form-group">
                            <label>Posisi</label>
                            <input type="text" class="exp-position" placeholder="Software Developer">
                        </div>
                        <div class="form-group">
                            <label>Perusahaan</label>
                            <input type="text" class="exp-company" placeholder="Nama Perusahaan">
                        </div>
                        <div class="form-group">
                            <label>Deskripsi</label>
                            <textarea class="exp-description" placeholder="Jelaskan tanggung jawab dan pencapaian Anda"></textarea>
                        </div>
                        <div class="form-group">
                            <label>Tanggal Mulai</label>
                            <input type="month" class="exp-start">
                        </div>
                        <div class="form-group">
                            <label>Tanggal Selesai</label>
                            <input type="month" class="exp-end">
                        </div>
                    </div>
                </div>
                <button class="btn" id="add-experience">+ Tambah Pengalaman</button>
            </section>
            
            <!-- Pendidikan -->
            <section class="form-section">
                <h2>Pendidikan</h2>
                <div id="education-container">
                    <div class="education-item">
                        <div class="form-group">
                            <label>Gelar</label>
                            <input type="text" class="edu-degree" placeholder="Sarjana Teknik Informatika">
                        </div>
                        <div class="form-group">
                            <label>Institusi</label>
                            <input type="text" class="edu-institution" placeholder="Universitas Contoh">
                        </div>
                        <div class="form-group">
                            <label>Tanggal Mulai</label>
                            <input type="month" class="edu-start">
                        </div>
                        <div class="form-group">
                            <label>Tanggal Selesai</label>
                            <input type="month" class="edu-end">
                        </div>
                    </div>
                </div>
                <button class="btn" id="add-education">+ Tambah Pendidikan</button>
            </section>
            
            <!-- Keterampilan -->
            <section class="form-section">
                <h2>Keterampilan</h2>
                <div class="form-group">
                    <textarea id="skills" placeholder="JavaScript, Python, React, Manajemen Proyek"></textarea>
                </div>
            </section>
            
            <!-- Tombol Aksi -->
            <div class="form-section">
                <button class="btn btn-primary" id="generate-pdf">Ekspor ke PDF</button>
                <button class="btn btn-danger" id="reset-form">Reset Form</button>
            </div>
        </div>
        
        <!-- Pratinjau CV -->
        <div class="preview-section">
            <h2>Pratinjau CV</h2>
            <div class="cv-container" id="cv-preview">
                <!-- CV content akan di-generate di sini -->
            </div>
        </div>
    </div>

    <script>
        // Fungsi untuk update pratinjau CV
        function updatePreview() {
            const fullName = document.getElementById('fullName').value || 'Nama Lengkap';
            const jobTitle = document.getElementById('jobTitle').value || 'Posisi yang Dilamar';
            const email = document.getElementById('email').value || 'email@contoh.com';
            const phone = document.getElementById('phone').value || '+62 812-3456-7890';
            const location = document.getElementById('location').value || 'Kota, Negara';
            const summary = document.getElementById('summary').value || 'Ringkasan profesional Anda akan muncul di sini.';
            const skills = document.getElementById('skills').value.split(',').map(skill => skill.trim()).filter(skill => skill);
            
            // Generate HTML untuk CV
            let cvHtml = `
                <div class="cv-header">
                    <h1 class="cv-name">${fullName}</h1>
                    <p class="cv-title">${jobTitle}</p>
                    <div class="cv-contact">
                        <span>${email}</span>
                        <span>${phone}</span>
                        <span>${location}</span>
                    </div>
                </div>
                
                <div class="cv-section">
                    <h2 class="cv-section-title">Ringkasan Profesional</h2>
                    <p>${summary}</p>
                </div>
            `;
            
            // Pengalaman Kerja
            const experienceItems = document.querySelectorAll('.experience-item');
            if (experienceItems.length > 0) {
                cvHtml += `<div class="cv-section">
                    <h2 class="cv-section-title">Pengalaman Kerja</h2>`;
                
                experienceItems.forEach(item => {
                    const position = item.querySelector('.exp-position').value;
                    const company = item.querySelector('.exp-company').value;
                    const start = item.querySelector('.exp-start').value;
                    const end = item.querySelector('.exp-end').value;
                    const description = item.querySelector('.exp-description').value;
                    
                    if (position || company) {
                        cvHtml += `
                            <div class="cv-item">
                                <div class="cv-item-title">${position || 'Posisi'}</div>
                                <div class="cv-item-subtitle">${company || 'Perusahaan'}</div>
                                <div class="cv-item-date">${formatDate(start)} - ${end ? formatDate(end) : 'Sekarang'}</div>
                                <p>${description || 'Deskripsi pengalaman kerja'}</p>
                            </div>
                        `;
                    }
                });
                
                cvHtml += `</div>`;
            }
            
            // Pendidikan
            const educationItems = document.querySelectorAll('.education-item');
            if (educationItems.length > 0) {
                cvHtml += `<div class="cv-section">
                    <h2 class="cv-section-title">Pendidikan</h2>`;
                
                educationItems.forEach(item => {
                    const degree = item.querySelector('.edu-degree').value;
                    const institution = item.querySelector('.edu-institution').value;
                    const start = item.querySelector('.edu-start').value;
                    const end = item.querySelector('.edu-end').value;
                    
                    if (degree || institution) {
                        cvHtml += `
                            <div class="cv-item">
                                <div class="cv-item-title">${degree || 'Gelar'}</div>
                                <div class="cv-item-subtitle">${institution || 'Institusi'}</div>
                                <div class="cv-item-date">${formatDate(start)} - ${end ? formatDate(end) : 'Sekarang'}</div>
                            </div>
                        `;
                    }
                });
                
                cvHtml += `</div>`;
            }
            
            // Keterampilan
            if (skills.length > 0) {
                cvHtml += `
                    <div class="cv-section">
                        <h2 class="cv-section-title">Keterampilan</h2>
                        <div class="skills-list">
                `;
                
                skills.forEach(skill => {
                    cvHtml += `<span class="skill-tag">${skill}</span>`;
                });
                
                cvHtml += `
                        </div>
                    </div>
                `;
            }
            
            document.getElementById('cv-preview').innerHTML = cvHtml;
        }
        
        // Format tanggal
        function formatDate(dateString) {
            if (!dateString) return '';
            const date = new Date(dateString);
            return date.toLocaleDateString('id-ID', { year: 'numeric', month: 'long' });
        }
        
        // Event listeners untuk input
        document.querySelectorAll('input, textarea').forEach(input => {
            input.addEventListener('input', updatePreview);
        });
        
        // Tambah pengalaman kerja
        document.getElementById('add-experience').addEventListener('click', function() {
            const container = document.getElementById('experience-container');
            const newItem = document.createElement('div');
            newItem.className = 'experience-item';
            newItem.innerHTML = `
                <div class="form-group">
                    <label>Posisi</label>
                    <input type="text" class="exp-position" placeholder="Software Developer">
                </div>
                <div class="form-group">
                    <label>Perusahaan</label>
                    <input type="text" class="exp-company" placeholder="Nama Perusahaan">
                </div>
                <div class="form-group">
                    <label>Deskripsi</label>
                    <textarea class="exp-description" placeholder="Jelaskan tanggung jawab dan pencapaian Anda"></textarea>
                </div>
                <div class="form-group">
                    <label>Tanggal Mulai</label>
                    <input type="month" class="exp-start">
                </div>
                <div class="form-group">
                    <label>Tanggal Selesai</label>
                    <input type="month" class="exp-end">
                </div>
                <button class="remove-btn" type="button">Hapus</button>
            `;
            
            container.appendChild(newItem);
            
            // Event listener untuk hapus
            newItem.querySelector('.remove-btn').addEventListener('click', function() {
                container.removeChild(newItem);
                updatePreview();
            });
            
            // Event listener untuk input baru
            newItem.querySelectorAll('input, textarea').forEach(input => {
                input.addEventListener('input', updatePreview);
            });
        });
        
        // Tambah pendidikan
        document.getElementById('add-education').addEventListener('click', function() {
            const container = document.getElementById('education-container');
            const newItem = document.createElement('div');
            newItem.className = 'education-item';
            newItem.innerHTML = `
                <div class="form-group">
                    <label>Gelar</label>
                    <input type="text" class="edu-degree" placeholder="Sarjana Teknik Informatika">
                </div>
                <div class="form-group">
                    <label>Institusi</label>
                    <input type="text" class="edu-institution" placeholder="Universitas Contoh">
                </div>
                <div class="form-group">
                    <label>Tanggal Mulai</label>
                    <input type="month" class="edu-start">
                </div>
                <div class="form-group">
                    <label>Tanggal Selesai</label>
                    <input type="month" class="edu-end">
                </div>
                <button class="remove-btn" type="button">Hapus</button>
            `;
            
            container.appendChild(newItem);
            
            // Event listener untuk hapus
            newItem.querySelector('.remove-btn').addEventListener('click', function() {
                container.removeChild(newItem);
                updatePreview();
            });
            
            // Event listener untuk input baru
            newItem.querySelectorAll('input').forEach(input => {
                input.addEventListener('input', updatePreview);
            });
        });
        
        // Ekspor ke PDF menggunakan window.print()
        document.getElementById('generate-pdf').addEventListener('click', function() {
            // Buat window baru untuk print
            const printWindow = window.open('', '_blank');
            const cvContent = document.getElementById('cv-preview').innerHTML;
            
            printWindow.document.write(`
                <!DOCTYPE html>
                <html>
                <head>
                    <title>CV ATS</title>
                    <style>
                        body { 
                            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif; 
                            margin: 0; 
                            padding: 20px; 
                            color: #333;
                            line-height: 1.6;
                        }
                        .cv-header {
                            background: #2c3e50;
                            color: white;
                            padding: 25px;
                            border-radius: 5px;
                            margin-bottom: 20px;
                        }
                        .cv-name {
                            font-size: 1.8rem;
                            margin-bottom: 5px;
                        }
                        .cv-title {
                            font-size: 1.2rem;
                            opacity: 0.9;
                            margin-bottom: 10px;
                        }
                        .cv-contact {
                            display: flex;
                            flex-wrap: wrap;
                            gap: 10px;
                            font-size: 0.9rem;
                        }
                        .cv-section {
                            margin-bottom: 15px;
                        }
                        .cv-section-title {
                            color: #2c3e50;
                            font-size: 1.2rem;
                            margin-bottom: 8px;
                            padding-bottom: 5px;
                            border-bottom: 1px solid #ecf0f1;
                        }
                        .cv-item {
                            margin-bottom: 12px;
                        }
                        .cv-item-title {
                            font-weight: 600;
                            color: #2c3e50;
                        }
                        .cv-item-subtitle {
                            font-style: italic;
                            color: #666;
                            margin-bottom: 3px;
                        }
                        .cv-item-date {
                            color: #3498db;
                            font-weight: 600;
                            margin-bottom: 3px;
                        }
                        .skills-list {
                            display: flex;
                            flex-wrap: wrap;
                            gap: 8px;
                        }
                        .skill-tag {
                            background: #ecf0f1;
                            padding: 4px 10px;
                            border-radius: 15px;
                            font-size: 0.9rem;
                        }
                        @media print {
                            body { 
                                padding: 0; 
                                margin: 0;
                            }
                        }
                    </style>
                </head>
                <body>
                    ${cvContent}
                    <script>
                        window.onload = function() {
                            window.print();
                            setTimeout(function() {
                                window.close();
                            }, 500);
                        };
                    <\/script>
                </body>
                </html>
            `);
            
            printWindow.document.close();
        });
        
        // Reset form
        document.getElementById('reset-form').addEventListener('click', function() {
            if (confirm('Apakah Anda yakin ingin mengosongkan semua data?')) {
                document.querySelectorAll('input, textarea').forEach(input => {
                    if (input.type !== 'button') {
                        input.value = '';
                    }
                });
                
                // Hapus item tambahan
                const experienceItems = document.querySelectorAll('.experience-item');
                for (let i = 1; i < experienceItems.length; i++) {
                    experienceItems[i].remove();
                }
                
                const educationItems = document.querySelectorAll('.education-item');
                for (let i = 1; i < educationItems.length; i++) {
                    educationItems[i].remove();
                }
                
                updatePreview();
            }
        });
        
        // Inisialisasi pratinjau pertama kali
        updatePreview();
    </script>
</body>
</html>